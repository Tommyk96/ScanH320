<Window x:Class="PharmaLegacy.Windows.GetMoreNumberWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PharmaLegacy.Windows"
        xmlns:ExtCtrl="clr-namespace:PharmaLegacy.Controls"
        xmlns:System="clr-namespace:System;assembly=mscorlib" 
        mc:Ignorable="d"
        Title="GetMoreNumberWindow"  Width="500" Height="240" VerticalAlignment="Bottom" WindowStyle="None" MouseDown="Window_MouseDown" Closed="Window_Closed" Background="#FF1F1F1F"   ResizeMode="NoResize" WindowStartupLocation="CenterOwner" Foreground="White" ShowInTaskbar="False">

    <Window.Resources>
        <System:Double x:Key="TextFontSize">24</System:Double>
        <System:Double x:Key="DescrTextFontSize">20</System:Double>
    </Window.Resources>

    <Border BorderBrush="#FFD8DBE1" BorderThickness="1,1,1,1" >
        <Grid >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="480*"/>
            </Grid.ColumnDefinitions>
            <!---->
            <StackPanel  VerticalAlignment="Top" Grid.Column="0" Margin="25,5,25,0" >
                <StackPanel   x:Name="LoginPan" Visibility="Visible"  VerticalAlignment="Top" Grid.Column="0" Margin="0,0,0,0" > 
                   <TextBlock  x:Name="Caption"  Foreground="White" FontWeight="Bold" FontSize="24" Margin="81,5,89,10" HorizontalAlignment="Center" Text="Заканчиваются номера" Width="278" Height="36"/>
                   <TextBlock  x:Name="MsgCounter" Foreground="White" FontSize="20" Margin="20,0,0,0" HorizontalAlignment="Left" Text="{Binding RemainingString}" Height="29" Width="394" TextWrapping="Wrap"/>
                    <StackPanel Orientation="Horizontal">
                         <TextBlock  Foreground="White" FontSize="20" Margin="20,0,0,0" HorizontalAlignment="Left" Text="Запросить еще?" Height="28" Width="164" TextWrapping="Wrap"/>
                  
                    
                        <TextBox   Text="{Binding AddBoxNumCount}" TextChanged="tbAddBoxNumCount_TextChanged"  x:Name="tbAddBoxNumCount"  Foreground="White" Background="#FF373737"
                                           FontSize="{DynamicResource TextFontSize}"  FontFamily="Arial" Width="68"  >
                                        <TextBox.BorderBrush>
                                            <LinearGradientBrush EndPoint="0,20" StartPoint="0,0" MappingMode="Absolute">
                                                <GradientStop Color="#FFABADB3"/>
                                                <GradientStop Color="#FFE2E3EA"/>
                                                <GradientStop Color="#FF121212"/>
                                            </LinearGradientBrush>
                                        </TextBox.BorderBrush>
                                    </TextBox>
                    
                    </StackPanel>
                      <!-- <ExtCtrl:TouchEnabledTextBox x:Name="UserId" Grid.Column="1" Text="{Binding UserLogin}"  FontSize="20" Margin="20,0,20,0" Foreground="Black" Background="White"  TextWrapping="Wrap" Height="36" />-->
                    <StackPanel x:Name="BtnPanel" Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,20,10,10" >
                        <Button  x:Name="Ok" Click="Ok_Click"  Content="Ок"  FontSize="24" Height="86" VerticalAlignment="Bottom" Margin="10,0,0,0" Style="{DynamicResource ActionButtonStyle3}" HorizontalAlignment="Right" Width="200"/>
                        <Button  x:Name="Cancel" Click="CloseApp_Click"  Content="Отменить"  FontSize="24" Height="86" VerticalAlignment="Bottom" Margin="10,0,0,0" Style="{DynamicResource ActionButtonStyle3}" HorizontalAlignment="Right" Width="200"/>
                    </StackPanel>

            <Viewbox x:Name="WaitPoint" Width="90" Height="90" Margin="0,10" Visibility="Collapsed">
                <Canvas  RenderTransformOrigin="0.5,0.5" Width="120" Height="120" x:Name="WaitCircle">
                    <Canvas.RenderTransform>
                        <RotateTransform x:Name="SpinnerRotate" Angle="0" />
                    </Canvas.RenderTransform>
                    <Canvas.Triggers>
                        <EventTrigger RoutedEvent="FrameworkElement.Loaded">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="SpinnerRotate" 
                                                     Storyboard.TargetProperty="(RotateTransform.Angle)" 
                                                    From="0" To="360" Duration="0:0:03" 
                                                    RepeatBehavior="Forever" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Canvas.Triggers>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="20.1696" Canvas.Top="9.76358" 
                                        Stretch="Fill" Fill="#E6FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="2.86816" Canvas.Top="29.9581" 
                                        Stretch="Fill" Fill="#CDFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="5.03758e-006" Canvas.Top="57.9341" 
                                            Stretch="Fill" Fill="#B3FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="12.1203" Canvas.Top="83.3163" 
                                            Stretch="Fill" Fill="#9AFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="36.5459" Canvas.Top="98.138" 
                                            Stretch="Fill" Fill="#80FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="64.6723" Canvas.Top="96.8411" 
                                            Stretch="Fill" Fill="#67FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="87.6176" Canvas.Top="81.2783" 
                                            Stretch="Fill" Fill="#4DFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="98.165" Canvas.Top="54.414" 
                                            Stretch="Fill" Fill="#34FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="92.9838" Canvas.Top="26.9938" 
                                            Stretch="Fill" Fill="#1AFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="47.2783" Canvas.Top="0.5" 
                                            Stretch="Fill" Fill="OrangeRed"/>
                </Canvas>
            </Viewbox>
            </StackPanel>

            <StackPanel x:Name="LoginErrorPan" Visibility="Collapsed">

                <TextBlock Margin="0,10" Foreground="White" Text="Ошибка получения номеров!"  FontSize="24" HorizontalAlignment="Center" FontWeight="Bold" />
                <StackPanel Background="#FFEF444D" Margin="5,5,5,5" >
                    <TextBlock x:Name="MsgText" TextWrapping="Wrap" MinHeight="60" Margin="0,10" Foreground="White" Text="MsgText"  FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
                <!--<Button x:Name="CloseErrorPane" Click="CloseErrorPane_Click" Height="86" Width="200" Content="Закрыть" Style="{DynamicResource ActionButtonStyle4}"/>-->
                <Button x:Name="CloseErrorPane" Click="CloseErrorPane_Click"  Content="Ок"  FontSize="24" Height="86" VerticalAlignment="Bottom" Margin="10,0,0,0" Style="{DynamicResource ActionButtonStyle3}"  Width="200"/>
            </StackPanel>

            </StackPanel>


        </Grid>
    </Border>
</Window>
