<Window x:Class="PharmaLegacy.Windows.LogonWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:PharmaLegacy.Windows"
        xmlns:ExtCtrl="clr-namespace:ControlsLegacy.Controls"
        mc:Ignorable="d"
        Title="LogonWindow"  Width="500" Height="300" VerticalAlignment="Bottom" WindowStyle="None" MouseDown="Window_MouseDown" Closed="Window_Closed" Background="#FF1F1F1F"   ResizeMode="NoResize" WindowStartupLocation="CenterOwner" Foreground="White" ShowInTaskbar="False">

    <Border BorderBrush="#FFD8DBE1" BorderThickness="1,1,1,1" >
        <Grid >
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="480*"/>
            </Grid.ColumnDefinitions>
            <!---->
            <StackPanel   x:Name="LoginPan" Visibility="Visible" VerticalAlignment="Top" Grid.Column="0" Margin="25,5,25,0" > 
               
               <TextBlock  x:Name="Caption"  Foreground="White" FontWeight="Bold" FontSize="24" Margin="107,0,122,0" HorizontalAlignment="Center" Text="Авторизация" Width="219" Height="36"/>
               <TextBlock  Foreground="White" FontSize="20" Margin="20,0,20,0" HorizontalAlignment="Left" Text="Пользователь"/>
                   <ExtCtrl:TouchEnabledTextBox x:Name="UserId" Grid.Column="1" Text="{Binding UserLogin}" KeyUp="UserId_KeyUp" FontSize="20" Margin="20,0,20,0" Foreground="Black" Background="White"  TextWrapping="Wrap" Height="36" />
            <!--<TextBox x:Name="UserId" Grid.Column="1" Text="{Binding UserLogin}"  FontSize="20" Margin="20,0,20,0" Foreground="Black" Background="White"  TextWrapping="Wrap" Height="36" />-->

            <TextBlock  Foreground="White" FontSize="20" Margin="20,10,20,0" HorizontalAlignment="Left" Text="Пароль"/>
            <PasswordBox x:Name="UserPass"  Grid.Column="1"  Margin="20,0,20,0"  FontSize="20" Foreground="Black" Background="White" KeyUp="UserId_KeyUp" GotTouchCapture="UserPass_GotTouchCapture" LostFocus="UserPass_LostFocus" PasswordChar="*" Height="36" />
            
                
            <StackPanel x:Name="BtnPanel" Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Center" Margin="0,30,10,10" >
                <Button  x:Name="Ok" Click="Ok_Click"  Content="Ок"  FontSize="24" Height="86" VerticalAlignment="Bottom" Margin="10,0,0,0" Style="{DynamicResource ActionButtonStyle3}" HorizontalAlignment="Right" Width="200"/>
                <Button  x:Name="Cancel" Click="CloseApp_Click"  Content="Отменить"  FontSize="24" Height="86" VerticalAlignment="Bottom" Margin="10,0,0,0" Style="{DynamicResource ActionButtonStyle3}" HorizontalAlignment="Right" Width="200"/>
            </StackPanel>

            <Viewbox x:Name="WaitPoint" Width="80" Height="80" Margin="0,15" Visibility="Collapsed">
                <Canvas  RenderTransformOrigin="0.5,0.5" Width="120" Height="120" x:Name="WaitCircle">
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="20.1696" Canvas.Top="9.76358" 
                                Stretch="Fill" Fill="#E6FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="2.86816" Canvas.Top="29.9581" 
                                Stretch="Fill" Fill="#CDFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="5.03758e-006" Canvas.Top="57.9341" 
                                    Stretch="Fill" Fill="#B3FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="12.1203" Canvas.Top="83.3163" 
                                    Stretch="Fill" Fill="#9AFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="36.5459" Canvas.Top="98.138" 
                                    Stretch="Fill" Fill="#80FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="64.6723" Canvas.Top="96.8411" 
                                    Stretch="Fill" Fill="#67FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="87.6176" Canvas.Top="81.2783" 
                                    Stretch="Fill" Fill="#4DFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="98.165" Canvas.Top="54.414" 
                                    Stretch="Fill" Fill="#34FF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="92.9838" Canvas.Top="26.9938" 
                                    Stretch="Fill" Fill="#1AFF4500"/>
                    <Ellipse Width="21.835" Height="21.862" Canvas.Left="47.2783" Canvas.Top="0.5" 
                                    Stretch="Fill" Fill="OrangeRed"/>
                    <Canvas.RenderTransform>
                        <RotateTransform x:Name="SpinnerRotate" Angle="0" />
                    </Canvas.RenderTransform>
                    <Canvas.Triggers>
                        <EventTrigger RoutedEvent="ContentControl.Loaded">
                            <BeginStoryboard>
                                <Storyboard>
                                    <DoubleAnimation Storyboard.TargetName="SpinnerRotate" 
                                             Storyboard.TargetProperty="(RotateTransform.Angle)" 
                                            From="0" To="360" Duration="0:0:03" 
                                            RepeatBehavior="Forever" />
                                </Storyboard>
                            </BeginStoryboard>
                        </EventTrigger>
                    </Canvas.Triggers>
                </Canvas>
            </Viewbox>

            </StackPanel>

            <StackPanel x:Name="LoginErrorPan" Visibility="Collapsed">
               
                    <TextBlock Margin="0,10" Foreground="White" Text="Ошибка авторизации!"  FontSize="24" HorizontalAlignment="Center" FontWeight="Bold" />
                <StackPanel Background="#FFEF444D" Margin="5,5,5,5" >
                    <TextBlock x:Name="MsgText" TextWrapping="Wrap" MinHeight="120" Margin="0,10" Foreground="White" Text="MsgText"  FontSize="20" HorizontalAlignment="Center"/>
                </StackPanel>
                <!--<Button x:Name="CloseErrorPane" Click="CloseErrorPane_Click" Height="86" Width="200" Content="Закрыть" Style="{DynamicResource ActionButtonStyle4}"/>-->
                <Button x:Name="CloseErrorPane" Click="CloseErrorPane_Click"  Content="Ок"  FontSize="24" Height="86" VerticalAlignment="Bottom" Margin="10,0,0,0" Style="{DynamicResource ActionButtonStyle3}"  Width="200"/>

            </StackPanel>
        </Grid>
    </Border>
</Window>
